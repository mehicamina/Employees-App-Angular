<div class="main">
    <h1>Job Title</h1>
    <hr>
    <div class="icons d-flex flex-row-reverse py-2 px-1">
        <button type="button" (click)="showDialogDelete()" title="Delete job" class="btn btn-dark"
            [disabled]='selectedRow'>
            <i class="fas fa-trash"></i>
        </button>
        <button type="button" (click)="showDialog('Edit')" title="Edit job" class="btn btn-dark"
            [disabled]='selectedRow'>
            <i class="far fa-edit"></i>
        </button>
        <button type="button" (click)="showDialog('Create')" title="Add job" class="btn btn-dark">
            <i class="fa fa-plus"></i>
        </button>
    </div>
    <p-dialog header="{{option}} a job" [modal]="true" [responsive]="true" [(visible)]="display"
        [style]="{'min-width': '700px'}" [contentStyle]="{'min-height': '600px'}"
        [contentStyle]="{'overflow': 'visible'}">
        <div class="pop">
            <h2 *ngIf="option=='Create'">Enter information about the new job</h2>
            <h2 *ngIf="option=='Edit'">Edit information about job</h2>
            <div>
                <label for="jobName">Name</label>
                <input type="text" class="form-control" id="firstNameSearch" placeholder="Job Name"
                    [(ngModel)]="jobTitle.name" required>
                <div *ngIf="pressed && !jobTitle.name" class="alert alert-danger mt-3">
                    Name is required.
                </div>
            </div>
            <div class="row py-3">

                <div class="col">
                    <label for="lastNameSearch">Short Name</label>
                    <input type="text" class="form-control" id="lastNameSearch" placeholder="Job Short Name"
                        [(ngModel)]="jobTitle.shortName" required>
                    <div *ngIf="pressed && !jobTitle.shortName" class="alert alert-danger mt-3">
                        Short name is required.
                    </div>
                </div>
                <div class="col">
                    <label for="phoneNumberSearch">Code</label>
                    <input type="text" class="form-control" id="phfoneNumberSearch" [(ngModel)]="jobTitle.code"
                        placeholder="Job Code" required [disabled]="this.option==='Edit'">
                    <div *ngIf="pressed && !jobTitle.code" class="alert alert-danger mt-3">
                        Code is required.
                    </div>
                </div>
            </div>
            <div class="row py-3">
                <div class="col">
                    <label>Description</label>
                    <textarea class="form-control" id="exampleFormControlTextarea1" [(ngModel)]="jobTitle.description"
                        placeholder="Enter description" rows="3"></textarea>
                </div>

            </div>
            <div class="text-right">
                <div *ngIf="option=='Create'" class="pt-4">
                    <button type="button" class="btn btn-dark" (click)="newJobTitle()" title="Add">
                        <i class="fa fa-plus"></i>
                    </button>
                </div>
                <div *ngIf="option=='Edit'" class="pt-4">
                    <button type="button" class="btn btn-dark" (click)="editJobTile()" title="Edit"><i
                            class="fa fa-pencil"></i></button>
                </div>
            </div>
        </div>
    </p-dialog>
    <p-dialog header="Delete an employee" [modal]="true" [responsive]="true" [(visible)]="displayDelete"
        [style]="{width: '700px'}" [contentStyle]="{'overflow': 'visible'}">
        <div class="pop">
            <h3>Delete the selected job</h3>
            <h6>Are you sure you want to delete this job?</h6>
            <div class="text-right">
                <button type="button" (click)="deleteJobTitle()" class="btn btn-dark">Confirm</button>
                <button type="button" (click)="cancle()" class="btn btn-dark">Cancel</button>
            </div>
        </div>
    </p-dialog>
    <ag-grid-angular class="ag-theme-balham-dark" [rowData]="rowData" [columnDefs]="columnDefs" [floatingFilter]="true"
        [rowDeselection]="true" [rowSelection]="rowSelection" (selectionChanged)="onSelectionChanged($event)"
        (gridReady)="onGridReady($event)">
    </ag-grid-angular>
</div>